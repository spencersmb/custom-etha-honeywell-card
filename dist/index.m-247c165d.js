var e="[^\\s]+";function t(e,t){for(var a=[],n=0,o=e.length;n<o;n++)a.push(e[n].substr(0,t));return a}var a=function(e){return function(t,a){var n=a[e].map((function(e){return e.toLowerCase()})),o=n.indexOf(t.toLowerCase());return o>-1?o:null}};function n(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];for(var n=0,o=t;n<o.length;n++){var r=o[n];for(var i in r)e[i]=r[i]}return e}var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=t(r,3),c={dayNamesShort:t(o,3),dayNames:o,monthNamesShort:i,monthNames:r,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},u=(n({},c),function(e){return+e-1}),s=[null,"[1-9]\\d?"],l=[null,e],m=["isPm",e,function(e,t){var a=e.toLowerCase();return a===t.amPm[0]?0:a===t.amPm[1]?1:null}],d=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var a=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?a:-a}return 0}];a("monthNamesShort"),a("monthNames");var f,v,h;!function(){try{(new Date).toLocaleDateString("i")}catch(e){return"RangeError"===e.name}}(),function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}}(),function(){try{(new Date).toLocaleTimeString("i")}catch(e){return"RangeError"===e.name}}(),(h=f||(f={})).language="language",h.system="system",h.comma_decimal="comma_decimal",h.decimal_comma="decimal_comma",h.space_comma="space_comma",h.none="none",function(e){e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24"}(v||(v={}));var y=["closed","locked","off"],p=function(e,t,a,n){n=n||{},a=null==a?{}:a;var o=new Event(t,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});return o.detail=a,e.dispatchEvent(o),o},g=function(e){p(window,"haptic",e)},_=function(e,t,a,n){if(n||(n={action:"more-info"}),!n.confirmation||n.confirmation.exemptions&&n.confirmation.exemptions.some((function(e){return e.user===t.user.id}))||(g("warning"),confirm(n.confirmation.text||"Are you sure you want to "+n.action+"?")))switch(n.action){case"more-info":(a.entity||a.camera_image)&&p(e,"hass-more-info",{entityId:a.entity?a.entity:a.camera_image});break;case"navigate":n.navigation_path&&function(e,t,a){void 0===a&&(a=!1),a?history.replaceState(null,"",t):history.pushState(null,"",t),p(window,"location-changed",{replace:a})}(0,n.navigation_path);break;case"url":n.url_path&&window.open(n.url_path);break;case"toggle":a.entity&&(function(e,t){(function(e,t,a){void 0===a&&(a=!0);var n,o=function(e){return e.substr(0,e.indexOf("."))}(t),r="group"===o?"homeassistant":o;switch(o){case"lock":n=a?"unlock":"lock";break;case"cover":n=a?"open_cover":"close_cover";break;default:n=a?"turn_on":"turn_off"}e.callService(r,n,{entity_id:t})})(e,t,y.includes(e.states[t].state))}(t,a.entity),g("success"));break;case"call-service":if(!n.service)return void g("failure");var o=n.service.split(".",2);t.callService(o[0],o[1],n.service_data),g("success");break;case"fire-dom-event":p(e,"ll-custom",n)}},b=function(e,t,a,n){var o;"double_tap"===n&&a.double_tap_action?o=a.double_tap_action:"hold"===n&&a.hold_action?o=a.hold_action:"tap"===n&&a.tap_action&&(o=a.tap_action),_(e,t,a,o)};function w(e,t,a){if(t.has("config")||a)return!0;if(e.config.entity){var n=t.get("hass");return!n||n.states[e.config.entity]!==e.hass.states[e.config.entity]}return!1}var S=function(){var e=document.querySelector("home-assistant");if(e=(e=(e=(e=(e=(e=(e=(e=e&&e.shadowRoot)&&e.querySelector("home-assistant-main"))&&e.shadowRoot)&&e.querySelector("app-drawer-layout partial-panel-resolver"))&&e.shadowRoot||e)&&e.querySelector("ha-panel-lovelace"))&&e.shadowRoot)&&e.querySelector("hui-root")){var t=e.lovelace;return t.current_view=e.___curView,t}return null};export{p as A,b as J,w as X,S as e};
